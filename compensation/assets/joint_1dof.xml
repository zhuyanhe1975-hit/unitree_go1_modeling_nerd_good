<mujoco model="unitree_go_m8010_6_1dof">
  <compiler angle="radian" autolimits="true" inertiafromgeom="true"/>
  <!--
    Target actuator: Unitree GO-M8010-6
    - Command/feedback are output-side (per SDK protocol): q(rad), dq(rad/s), tau(Nm)
    - Reduction ratio: 1:6.33 (not explicitly modeled as separate motor/output joints here)
    - Max output torque: 23.7 Nm, max output speed: 30 rad/s
  -->
  <option timestep="0.001" integrator="RK4" gravity="0 0 -9.81">
    <flag contact="enable" energy="enable"/>
  </option>

  <default>
    <!-- 
       Joint-level dissipations are placeholders and should be fitted from real data.
       Use config.json -> sim.mjcf_override to set global damping/armature overrides in Warp.
    -->
    <!-- frictionloss ~ Coulomb friction torque (Nm). armature ~ added joint inertia (kg*m^2). -->
    <joint damping="0.02" frictionloss="0.05" armature="0.0044814"/>
    <geom type="capsule" size="0.02" rgba="0.7 0.7 0.7 1"/>
  </default>

  <worldbody>
    <geom name="floor" type="plane" size="0 0 0.1" rgba="0.8 0.8 0.8 1"/>
    
    <!-- 基座 -->
    <body name="base_link" pos="0 0 0.5">
      <geom type="box" size="0.06 0.06 0.06" rgba="0.2 0.2 0.2 1" mass="5.0"/>
      <geom type="capsule" size="0.05" fromto="0 0 0 0.08 0 0" quat="0.707 0 0.707 0" rgba="0.3 0.3 0.3 1" mass="1.0"/>

      <!-- 理想输出轴 -->
        <body name="gearbox_output_shaft" pos="0.2 0 0" euler="0 1.5708 0">
        <!-- Small link inertia placeholder (most inertia is in armature + attached load). -->
        <inertial pos="0 0 0" mass="0.2" diaginertia="0.00005 0.00005 0.00005"/>
        <!-- 
           Output shaft (what GO-M8010-6 reports as q/dq/tau).
        -->
        <joint name="joint_ideal" type="hinge" axis="0 0 1" 
               limited="false"/>
        
        <geom type="capsule" size="0.015" fromto="0 0 0 0 0 0.02" rgba="0.9 0.5 0.1 1" mass="0.1"/>

        <!-- 实际负载（用于匹配“单关节实物”量级；不引入长摆臂） -->
        <body name="actual_load" pos="0 0 0">
          <!-- Rough inertial placeholder: Izz ~ 0.005 kg*m^2 order -->
          <inertial pos="0.05 0 0" mass="0.3" diaginertia="0.0002 0.0002 0.005"/>
          <geom type="capsule" size="0.02" fromto="0 0 0 0.10 0 0" rgba="0 0.5 0.8 1"/>
        </body>
      </body>
    </body>
  </worldbody>

  <contact>
    <exclude body1="base_link" body2="actual_load"/>
  </contact>

  <actuator>
    <!-- Output-side torque command (Nm): match GO-M8010-6 protocol -->
    <motor name="motor_driver" joint="joint_ideal" gear="1" ctrllimited="true" ctrlrange="-23.7 23.7"/>
  </actuator>
</mujoco>
